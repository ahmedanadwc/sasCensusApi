<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- HTML header for doxygen 1.8.17-->
<html xmlns="https://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.6" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>sasCensusApi: code/macros/util/util_getdsidvalues.sas Source File</title>
    <meta name="description" content="Custom built SAS macro programs to extract data from the public Census Data API. These out of the box custom built SAS macro programs atreamline data acquisition and manipulation. They use the metadata supplied by the Census Data API registration to dynamically derive column type conversion and label assignments. As a minimum, Base SAS® Software, version 9.4 Maintenance 4 installation is required to run these macros." />
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link href="new_stylesheet.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top">
      <!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr style="height: 56px">
              <td id="projectlogo">
                <a href=""
                  ><img alt="Logo" src="logo.png"
                /></a>
              </td>
              <td id="projectalign" style="padding-left: 0.5em">
                <div id="projectname">sasCensusApi</div>
                <div id="projectbrief">Custom built SAS macro programs to extract data from the public Census Data API. These out of the box custom built SAS macro programs atreamline data acquisition and manipulation. They use the metadata supplied by the Census Data API registration to dynamically derive column type conversion and label assignments. As a minimum, Base SAS® Software, version 9.4 Maintenance 4 installation is required to run these macros.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
    </div>
  </body>
</html>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('util__getdsidvalues_8sas_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">util_getdsidvalues.sas</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/**</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">  @file censusapi_getgrpvars.sas</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">  @brief Returns system generated _ROWID_ and unique_Ds_ID</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">  @details</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">  Returns system generated _ROWID_ and unique_Ds_ID values for the specified API Base URL.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">      Usage Example:</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">      %GLOBAL g_rowId g_uniqueId;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">      %util_getDsIdValues(p_apiBaseUrl=http://api.census.gov/data/1986/cbp </span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">        , p_rtrnRowIDMacVarName=g_rowId, p_rtrnUniqueIDMacVarName=g_uniqueId)</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">  @param [in] p_registryDsName= Registration Data Set name. Default:APILIB._API_ALL_DATA</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">  @param [in] p_apiBaseUrl= API Base URL for the registered data set</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">  @param [in] p_rtrnRowIDMacVarName= Macro variable name to hold the associated _ROWID_ value</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">  @param [in] p_rtrnUniqueIDMacVarName= Macro variable name to hold the associated ds_unique_id value</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"></span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">  @version SAS 9.4</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">  @author Ahmed Al-Attar</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment"></span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">**/</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>%MACRO util_getDsIdValues(p_registryDsName=APILIB._API_ALL_DATA ,p_apiBaseUrl= ,p_rtrnRowIDMacVarName= ,p_rtrnUniqueIDMacVarName=);</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  %LOCAL l_lastChar;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>  %let l_lastChar = ;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>  %<span class="keywordflow">if</span> (<span class="stringliteral">&quot;%SUBSTR(%SYSFUNC(REVERSE(&amp;p_apiBaseUrl)),1,1)&quot;</span> NE <span class="stringliteral">&quot;/&quot;</span>) %then</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    %let p_apiBaseUrl = &amp;p_apiBaseUrl/;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  PROC SQL NOPRINT;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    SELECT </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>      STRIP(ds_unique_id)</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>      , _ROWID_</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    INTO :&amp;p_rtrnUniqueIDMacVarName</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>      ,:&amp;p_rtrnRowIDMacVarName TRIMMED</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    FROM &amp;p_registryDsName</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>      WHERE BaseURL = <span class="stringliteral">&quot;&amp;p_apiBaseUrl&quot;</span>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  QUIT;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>%MEND util_getDsIdValues;</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_8299b97efaa0c531d43464ca9378858c.html">macros</a></li><li class="navelem"><a class="el" href="dir_71c0e04cac9fd4b7e5b659661a0f6e03.html">util</a></li><li class="navelem"><b>util_getdsidvalues.sas</b></li>
    <li class="footer">
      Generated by
      <a href="https://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.svg" alt="doxygen"
      /></a>
      1.9.6
    </li>
    <li>
      <i> For more information visit the </i>
      <a href="https://cli.sasjs.io">SASjs cli</a> documentation.
    </li>
  </ul>
</div>
